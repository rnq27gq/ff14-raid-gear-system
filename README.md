# FF14 零式装備分配システム

FF14の零式レイドで装備を公平に分配するためのWebアプリケーションです。

## 特徴

- Discord Bot連携による簡単なチーム作成
- 自動的な装備分配提案
- 取得履歴・統計情報の管理
- リアルタイムデータ同期（Supabase）
- GitHub Pages でホスティング（無料）

## アクセスURL

**https://rnq27gq.github.io/FF14_Gear_Allocation_System/**

## 使い方（初めての方向け）

### 1. チームの作成（リーダーのみ）

1. Discordサーバーで `/team-create` コマンドを実行
2. 運用範囲を選択:
   - **サーバー全体**: サーバー内全員で共有
   - **このチャンネルのみ**: 特定のチャンネル専用
3. 生成された招待URLをメンバーに共有

```
例: https://rnq27gq.github.io/FF14_Gear_Allocation_System/?token=xxxx
```

### 2. 初回ログイン

1. リーダーから共有されたURLをクリック
2. 「Discordでログイン」ボタンをクリック
3. Discord認証を許可
4. ダッシュボードが自動的に表示されます

### 3. メンバー情報の登録

1. ダッシュボードの「メンバー管理」をクリック
2. 8人分の情報を入力:
   - プレイヤー名
   - ジョブ
   - ポジション（D1〜D4、MT、ST、H1、H2）
3. 「保存して続ける」をクリック

### 4. 装備方針の設定

1. 「装備方針」タブに移動
2. 各プレイヤーのグリード方針を〇で設定
   - 〇: グリード可能
   - 空欄: パス
3. 「保存して続ける」をクリック

### 5. 武器希望の設定

1. 「武器希望」タブに移動
2. 各プレイヤーの武器希望を設定:
   - 第一希望
   - 第二希望
3. 「保存」をクリック

### 6. 装備分配の実行

1. ダッシュボードで [1層] [2層] [3層] [4層] のいずれかをクリック
2. ドロップしたアイテムを選択
3. システムが自動的に最適な分配先を提案します
4. 提案内容を確認して「分配確定」をクリック
5. データが自動保存されます

### 7. 統計情報の確認

- ダッシュボードの「統計情報」ボタンをクリック
- 各プレイヤーの取得状況を確認:
  - **緑色のセル**: 装備取得済み（視認性向上）
  - **数字**: 素材取得個数

### 8. 配布履歴の確認

- ダッシュボードの「配布履歴」ボタンをクリック
- 過去の分配記録を週別・層別に確認できます

## 分配システムの仕組み

### 優先度計算

システムは以下の要素で分配優先度を自動計算します：

1. **装備方針**: 零式希望者 > トームストーン希望者
2. **ポジション優先度**: カスタマイズ可能（デフォルト: D1→D2→D3→D4→MT→ST→H1→H2）
3. **取得履歴**: 過去の取得数による動的調整
4. **武器希望**: 武器の場合は希望順位を考慮

### 断章交換システム

断章で装備を交換したプレイヤーの特別処理：

- **一時的除外**: 零式方針で未取得のプレイヤーがいる間は分配対象外
- **条件付き復帰**: 零式方針の未取得者がいなくなったら分配対象に復帰
- **自動ステータス更新**: 箱を取得すると「断章交換・箱取得済」に自動更新され完全に対象外

### 統計編集での断章交換設定

1. 「統計情報」→「編集開始」
2. 各プレイヤーの装備状況をプルダウンで選択：
   - 未取得
   - 取得済み
   - 断章交換
   - 断章交換・箱取得済

## チーム運用のコツ

### チームリーダー向け

- **定期的な統計確認**: 週次レイド後に取得状況をチェック
- **方針の見直し**: メンバーの装備状況に応じて装備方針を更新
- **データバックアップ**: 重要な進行時期にはデータをエクスポート

### チームメンバー向け

- **希望の明確化**: 装備方針と武器希望を正確に設定
- **リアルタイム確認**: レイド中はシステムにアクセスして分配状況を確認
- **履歴の把握**: 自分の取得履歴を定期的にチェック

## セキュリティとメンテナンス

### パスワード管理

- 強力で一意のパスワードを使用
- セキュリティ質問の答えは忘れずに記録
- メンバー変更時はパスワード更新を検討

### データ管理

- 重要な進行データは定期的にエクスポート
- チームIDは信頼できるメンバーのみと共有
- 問題発生時は統計編集機能で手動調整可能

## よくある質問

### Q: 招待URLを紛失した場合は？

A: Discordで再度 `/team-create` を実行してください。同じチームのURLが再生成されます（データは保持されます）。

### Q: メンバーを途中で変更できる？

A: 可能です。メンバー管理画面から編集してください。変更は即座に反映されます。

### Q: データは自動保存される？

A: はい。すべての変更は即座にSupabaseに保存されます。手動保存は不要です。

### Q: 間違って分配を確定してしまった場合は？

A: 統計情報画面の「編集開始」ボタンから手動で修正できます。

### Q: 複数のレイドティアを管理できる？

A: 1つのチームにつき1つのレイドティアです。新しいパッチの零式が始まる場合は、新しいチームを作成することを推奨します。

### Q: スマートフォンでも使える？

A: はい。レスポンシブデザインに対応しており、スマートフォンでも利用可能です。

## システム要件

- モダンなWebブラウザ（Chrome、Firefox、Safari、Edge）
- Discordアカウント
- インターネット接続

## 技術スタック

- **フロントエンド**: Vanilla JavaScript、HTML5、CSS3
- **バックエンド**: Supabase (PostgreSQL)
- **認証**: Discord OAuth2
- **ホスティング**: GitHub Pages

---

開発者: hirqt | 2025年

**ファイナルファンタジーXIVレイドコミュニティのために設計**
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();class a{constructor(){throw new Error("Supabase設定が見つかりません。環境変数を確認してください。")}async start(){try{console.log("🚀 FF14装備分配システムを起動中..."),this.uiManager.showLoading("システムを初期化中..."),this.uiManager.updateLoadingMessage("認証情報を確認中..."),await this.teamAuth.tryAutoLogin()?(console.log("✅ 自動ログイン成功"),this.uiManager.hideLoading()):(console.log("ℹ️ 自動ログイン失敗 - ログイン画面を表示"),this.uiManager.hideLoading()),typeof window<"u"&&(window.app={stateManager:this.stateManager,storageClient:this.storageClient,teamAuth:this.teamAuth,uiManager:this.uiManager}),console.log("✅ アプリケーション起動完了")}catch(o){console.error("❌ アプリケーション起動エラー:",o),this.uiManager.hideLoading(),this.uiManager.showError("システムの初期化に失敗しました。ページを再読み込みしてください。")}}}document.addEventListener("DOMContentLoaded",async()=>{await new a().start()});
